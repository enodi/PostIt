
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication-endpoints" class="toc-h1 toc-link" data-title="Authentication Endpoints">Authentication Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#strong-code-signup-post-api-v1-user-signup-code-strong" class="toc-h2 toc-link" data-title="Authentication Endpoints"><strong><code>Signup [POST - api/v1/user/signup]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-signin-post-api-v1-user-signin-code-strong" class="toc-h2 toc-link" data-title="Authentication Endpoints"><strong><code>Signin [POST - api/v1/user/signin]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-forgot-password-post-api-v1-user-forgotpassword-code-strong" class="toc-h2 toc-link" data-title="Authentication Endpoints"><strong><code>Forgot Password [POST - api/v1/user/forgotPassword]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-reset-password-put-api-v1-user-resetpassword-code-strong" class="toc-h2 toc-link" data-title="Authentication Endpoints"><strong><code>Reset Password [PUT - api/v1/user/resetPassword]</code></strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#group-endpoints" class="toc-h1 toc-link" data-title="Group Endpoints">Group Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#strong-code-create-a-new-group-post-api-v1-group-code-strong" class="toc-h2 toc-link" data-title="Group Endpoints"><strong><code>Create a New Group [POST - api/v1/group]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-add-users-to-group-post-api-v1-group-groupid-user-code-strong" class="toc-h2 toc-link" data-title="Group Endpoints"><strong><code>Add Users to Group [POST - api/v1/group/:groupId/user]</code></strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#user-endpoints" class="toc-h1 toc-link" data-title="User Endpoints">User Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#strong-code-search-for-users-get-api-v1-user-search-code-strong" class="toc-h2 toc-link" data-title="User Endpoints"><strong><code>Search for Users [GET - api/v1/user/search]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-retrieve-all-groups-a-user-belongs-to-get-api-v1-user-userid-group-code-strong" class="toc-h2 toc-link" data-title="User Endpoints"><strong><code>Retrieve all Groups a User belongs to [GET - api/v1/user/:userId/group]</code></strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#message-endpoints" class="toc-h1 toc-link" data-title="Message Endpoints">Message Endpoints</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#strong-code-post-a-new-message-post-api-v1-group-groupid-message-code-strong" class="toc-h2 toc-link" data-title="Message Endpoints"><strong><code>Post a New Message [POST - api/v1/group/:groupId/message]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-code-retrieve-all-messages-in-a-group-get-api-v1-group-groupid-messages-code-strong" class="toc-h2 toc-link" data-title="Message Endpoints"><strong><code>Retrieve all Messages in a Group [GET - api/v1/group/:groupId/messages]</code></strong></a>
                  </li>
                  <li>
                    <a href="#strong-note-strong" class="toc-h2 toc-link" data-title="Message Endpoints"><strong>Note</strong></a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>PostIt is an application that allow registered users communicate with each other via groups. It allows registered users post messages to groups by sending message once. It includes the following feature:</p>

<ul>
<li>Creating an account</li>
<li>Signing in as an existing user</li>
<li>Creating a new group</li>
<li>Adding new users to group</li>
<li>Post messages to groups in real-time</li>
<li>Display posted messages</li>
<li>Search for users in a group</li>
<li>Reset password</li>
<li>Receive email notification when a message is posted in the group you belong to based on priority level i.e <code>Normal</code>, <code>Critical</code> and <code>Urgent</code></li>
</ul>
<h1 id='authentication-endpoints'>Authentication Endpoints</h1>
<!-- > To authorize, use this code: -->
<h2 id='strong-code-signup-post-api-v1-user-signup-code-strong'><strong><code>Signup [POST - api/v1/user/signup]</code></strong></h2>
<p>This endpoint handles users registration</p>

<p><code>onSuccess - Status code (201)</code></p>

<p><code>onError - Status code (500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"fullname"</span><span class="p">:</span> <span class="s2">"Jane Doe"</span>
  <span class="s2">"username"</span><span class="p">:</span> <span class="s2">"jane"</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"janedoe@gmail.com"</span>
  <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"password"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "message": "Signup successful",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsInVzZXJuYW1lIjoiZW5vZDIiLCJlbWFpbCI6ImVub2RpYXVkdTJAZ21haWwuY29tIiwiaWF0IjoxNTEwNTI5NTgzLCJleHAiOjE1MTA2MTU5ODN9.eVSs5Xk1YvCbS6VCIpdkeM0o7j6n_iF0mCHwN1TwrKo"
}
</code></pre><h2 id='strong-code-signin-post-api-v1-user-signin-code-strong'><strong><code>Signin [POST - api/v1/user/signin]</code></strong></h2>
<p>This endpoint handles users signin. It verifies if a user already has an account and then throws the appropriate errors if not verified. The user signins with username and password.</p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (404, 422, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"username"</span><span class="p">:</span> <span class="s2">"jane"</span>
  <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"password"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsInVzZXJuYW1lIjoiZW5vZDIiLCJlbWFpbCI6ImVub2RpYXVkdTJAZ21haWwuY29tIiwiaWF0IjoxNTEwNTI5NTgzLCJleHAiOjE1MTA2MTU5ODN9.eVSs5Xk1YvCbS6VCIpdkeM0o7j6n_iF0mCHwN1TwrKo"
}
</code></pre><h2 id='strong-code-forgot-password-post-api-v1-user-forgotpassword-code-strong'><strong><code>Forgot Password [POST - api/v1/user/forgotPassword]</code></strong></h2>
<p>This endpoint verifies that the user who requested a password reset is a registered user. It sends a reset password link if the user is a registered user.</p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (400, 404, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"janedoe@gmail.com"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "message" : "Please check your mail for the reset link"
}
</code></pre><h2 id='strong-code-reset-password-put-api-v1-user-resetpassword-code-strong'><strong><code>Reset Password [PUT - api/v1/user/resetPassword]</code></strong></h2>
<p>This endpoint handles resetting user password. It receives the new password inserted by the user and updates the old password with the new one.</p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (400, 401, 422, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"janedoe@gmail.com"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "message" : "Password reset successful"
}
</code></pre><h1 id='group-endpoints'>Group Endpoints</h1><h2 id='strong-code-create-a-new-group-post-api-v1-group-code-strong'><strong><code>Create a New Group [POST - api/v1/group]</code></strong></h2>
<p>This endpoint handles creating a new group. </p>

<p><code>onSuccess - Status code (201)</code></p>

<p><code>onError - Status code (400, 409, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"General"</span>
  <span class="s2">"description"</span><span class="p">:</span> <span class="s2">"This is a general group for all"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "message": "Group created successfully",
    "id": "1",
    "name": "General"
    "description": "This is a general group for all"
}
</code></pre><h2 id='strong-code-add-users-to-group-post-api-v1-group-groupid-user-code-strong'><strong><code>Add Users to Group [POST - api/v1/group/:groupId/user]</code></strong></h2>
<p>This endpoint handles adding registered users to groups. </p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (400, 404, 422, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"userId"</span><span class="p">:</span> <span class="s2">"1"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
     "message": "User added successfully"
}
</code></pre><h1 id='user-endpoints'>User Endpoints</h1><h2 id='strong-code-search-for-users-get-api-v1-user-search-code-strong'><strong><code>Search for Users [GET - api/v1/user/search]</code></strong></h2>
<p>This endpoint handles searching and retrieving all users in the application.  </p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (422, 500)</code></p>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "count": 2,
    "rows": [
        {
            "id": 1,
            "email": "janedoe@gmail.com",
            "username": "jane",
            "fullname": "Jane Doe"
        },
        {
            "id": 2,
            "email": "johndoe@gmail.com",
            "username": "john",
            "fullname": "John Doe"
        }
    ]
}
</code></pre><h2 id='strong-code-retrieve-all-groups-a-user-belongs-to-get-api-v1-user-userid-group-code-strong'><strong><code>Retrieve all Groups a User belongs to [GET - api/v1/user/:userId/group]</code></strong></h2>
<p>This endpoint handles searching and retrieving all users in the application.  </p>

<p><code>onSuccess - Status code (200)</code></p>

<p><code>onError - Status code (400, 500)</code></p>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "groups": {
        "id": 1,
        "email": "janedoe@gmail.com",
        "username": "jane",
        "fullname": "Jane Doe",
        "Groups": [
            {
                "id": 1,
                "name": "general",
                "description": "This is a general group for all",
                "createdAt": "2017-11-12T23:55:25.818Z",
                "ownerId": 2,
                "UserGroup": {
                    "createdAt": "2017-11-12T23:58:14.324Z",
                    "updatedAt": "2017-11-12T23:58:14.324Z",
                    "GroupId": 1,
                    "UserId": 1
                }
            }
        ]
    }
}
</code></pre><h1 id='message-endpoints'>Message Endpoints</h1><h2 id='strong-code-post-a-new-message-post-api-v1-group-groupid-message-code-strong'><strong><code>Post a New Message [POST - api/v1/group/:groupId/message]</code></strong></h2>
<p>This endpoint handles posting messages to a group.  </p>

<p><code>onSuccess - Status code (201)</code></p>

<p><code>onError - Status code (400, 500)</code></p>

<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"message"</span><span class="p">:</span> <span class="s2">"Hello"</span>
  <span class="s2">"priority"</span><span class="p">:</span> <span class="s2">"normal"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>{
    "message": "message posted successfully",
    "messageCreated": {
        "id": 1,
        "UserId": 1,
        "GroupId": 1,
        "message": "hi",
        "priority": "normal",
        "updatedAt": "2017-11-13T00:23:50.852Z",
        "createdAt": "2017-11-13T00:23:50.852Z"
    }
}
</code></pre><h2 id='strong-code-retrieve-all-messages-in-a-group-get-api-v1-group-groupid-messages-code-strong'><strong><code>Retrieve all Messages in a Group [GET - api/v1/group/:groupId/messages]</code></strong></h2>
<p>This endpoint handles retrieving messages in a group.  </p>

<p><code>onSuccess - Status code (201)</code></p>

<p><code>onError - Status code (500)</code></p>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>[
    {
        "id": 1,
        "message": "hi",
        "priority": "normal",
        "GroupId": 1,
        "UserId": 1,
        "createdAt": "2017-11-13T00:23:50.852Z",
        "updatedAt": "2017-11-13T00:23:50.852Z",
        "User": {
            "id": 1,
            "username": "jane",
            "fullname": "Jane Doe",
            "email": "janedoe@gmail.com"
        }
    }
]
</code></pre><h2 id='strong-note-strong'><strong>Note</strong></h2>
<aside class="notice">
In using this endpoints, you must note the following: <br/> <br/>
<li>An authorization token needs to be attached when using user, message and group endpoints. The format is: <b><i>{"x-access-token": token}</i></b></li>
</aside>
<h1 id='errors'>Errors</h1>
<p>PostIt API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- User&#39;s request cannot be processed by the server.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- User was not authorized. e.g login failed or token verification failed.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The request data was not found.</td>
</tr>
<tr>
<td>409</td>
<td>Conflicts -- The specified request already exists</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessable Entity -- Server understands request data but cannot process it.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
